<!doctype html>

<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Choice of Reference Frame</title>
	
	<link href="../../css/main.min.css" rel="stylesheet" type="text/css">
	<link href="../../css/amk22_style.css" rel="stylesheet" type="text/css" >

	
	<!-- script to allow inline latex math, rendered using javascript -->
	<script>
		MathJax = {
		tex: {
			inlineMath: [['$', '$'], ["\\(", "\\)"]],
			processEscapes: true,
			}
		};</script>
	<script defer src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-chtml.js"></script>
	<!--script links for jsquery and boorstrap-->
	<script src="../../js/jquery-4.0.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>

	<!-- rotating axis animation uses math.js-->
	<script src="https://cdn.jsdelivr.net/npm/mathjs@15.1.1/lib/browser/math.min.js"></script>
	<!--script links for js animations and interactions-->

</head>
	
	
<body class="bg-light">

	<nav class="navbar navbar-expand-lg ">
		<div class="container-lg bg-white">
		  <span class="navbar-brand h1">ENEL 582</span> 
		  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		  </button>
		  <div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav me-auto mb-2 mb-lg-0">
			  <li class="nav-item"><a class="nav-link " href="../../index.html">Home</a></li>
			  <li class="nav-item"><a class="nav-link" href="../../research.html">Research</a></li>
			  <li class="nav-item"><a class="nav-link" href="../../ieee.html">IEEE</a></li>
			  <li class="nav-item"><a class="nav-link" href="../../machines/intro.html">Electric Machines</a></li>
			  <li class="nav-item"><a class="nav-link" href="../../ENEL487/ENEL487.html">ENEL 487</a></li>
			  <li class="nav-item"><a class="nav-link" href="../../ENPH491/ENPH491.html">ENPH 491</a></li>
			  <li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
				  ENEL 582</a>
				<ul class="dropdown-menu">
				  <li><a class="dropdown-item" href="../ENEL582.html">Introduction</a></li>
				  <li><a class="dropdown-item" href="../0_fund/f_main.html">Fundamentals</a></li>
				  <li><a class="dropdown-item" href="../1_im_ac/im_main.html">AC Induction Motors</a></li>
				  <li><a class="dropdown-item" href="../2_two_axis/two_ax_main.html">Two-Axis Theory</a></li>
				  <li><a class="dropdown-item" href="../3_im_drive/id_main.html">Induction Motor Drives</a></li>
				  <li><a class="dropdown-item" href="../4_sm_drive/smdrive_main.html">Synchronous Motor Drives</a></li>
				  <li><a class="dropdown-item" href="../5_sm_ac/sm_main.html">AC Synchronous Machines</a></li>
				  <li><a class="dropdown-item" href="../6_spim/spim_main.html">Single Phase Induction Motors</a></li>				
				</ul>
			  </li>
			</ul>
		  </div>
		</div>
	  </nav>

	
<main>
	<nav class="navbar navbar-expand-lg ">
		<div class="container-lg machines">
			<span class="navbar-brand h3">2-axis</span> 
		  	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
		  	</button>
		  	<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
			  		<li class="nav-item"><a class="nav-link " href="./two_ax_main.html">Principles</a></li>
			  		<li class="nav-item"><a class="nav-link" href="./two_ax_components.html">Circuit Components</a></li>
					<li class="nav-item"><a class="nav-link" href="./two_ax_ref_frame.html">Reference Frames</a></li>
			  		<li class="nav-item"><a class="nav-link" href="./two_ax_im.html">Induction Motor in qd0</a></li>
				</ul>
			</div>
		  </div>
		</div>
	</nav>	
	

<article>
	<div class="container-lg bg-white">
		<h2>Choice of Reference Frame</h2>
		<div class="row">
			<p>The general form of the $abc$ to $qd0$ reference frame is given by</p>
			<div class="equation">\[
				\begin{equation}
					K=\frac{2}{3}\begin{bmatrix} \cos\left(\theta\right) & \cos\left(\theta-\frac{2\pi}{3}\right) & \cos\left(\theta+\frac{2\pi}{3}\right) \\
										\sin\left(\theta\right) & \sin\left(\theta-\frac{2\pi}{3}\right) & \sin\left(\theta+\frac{2\pi}{3}\right) \\
										\frac{1}{2} &\frac{1}{2} &\frac{1}{2}\end{bmatrix}
				\end{equation}
			\]</div>
			<p>The choice of $\theta$ gives difference charactersitics for the $qd0$ variables, as can be seen in the <a href="./two_ax_main.html">introduction</a> 
				to two axis analysis.</p>
			<p>Choices for reference frames include:</p>
			<ul>
				<li>Arbitrary: $\theta=\int\omega dt+\theta_0$, where $\omega$ could be any value. </li>
				<li>Stationary: $\theta$ is constant, typically zero</li>
				<li>Synchronous: $\theta=\int\omega_e dt+\theta_0$, the reference frame rotates synchronously with the electrical supply frequency</li>
				<li>Rotor: $\theta=\int\omega_r dt+\theta_0$, where $\omega_r = \frac{p}{2}\omega_m$ the reference frame rotates fixed to the rotor position. This is generally useful when 
					considering synchronous machines during transients. At other times in synchronous machines, $\omega_r=\omega_e$ and the system is equivalent to the synchronous reference frame
				</li>
			</ul>
			<p>It is important to note that there are many different versions of these transforms, depending on whether it is convenient to have the d-axis or q-axis 
				aligned with the a-axis at a point in time. This also relates to whether the $abc$ variables are defined in terms of sine or cosine functions.</p>
			</p>
		</div>
		<div class="row">
			<h3>Arbitrary reference frame with steady state AC</h3>
			<p>The arbitrary reference frame can be at any position</p>
			<figure>
				<img src="./img/frame_arbitrary.png" alt="Illustration of Arbitrary Ref Frame Positioning" />
				<figcaption>Fig. 1. Abitrary Reference Frame Positioning</figcaption>
			</figure>

			<p>If AC voltage and current are given by a set of balanced phasors</p>
			<div class="equation">\[
				\begin{align*} 
					\vec{V}_a=V\angle\left(\theta_v\right) \qquad &amp; \vec{V}_b=V\angle\left(\theta_v - 120^{\circ}\right) \qquad &amp; \vec{V}_c=V\angle\left(\theta_v+120^{\circ}\right) \\
					\vec{I}_a=I\angle\left(\theta_i\right) \qquad &amp; \vec{I}_b=I\angle\left(\theta_i - 120^{\circ}\right) \qquad &amp; \vec{I}_c=I\angle\left(\theta_i+ 120^{\circ}\right) 
				\end{align*} 
			\]</div>
			<p>with instantaneous values</p>
			<div class="equation">\[
				\begin{equation} 
					v_a=\hat{V}\cos\left (\omega_e t +\theta_v\right)  \qquad i_a=\hat{I}\cos\left (\omega_e t +\theta_i\right) 
				\end{equation} 
			\]</div>
			<p>etc. Then applying the transformation matrix</p>
			<div class="equation">\[
			\begin{equation}
				K=\frac{2}{3}\begin{bmatrix} \cos\left(\theta\right) & \cos\left(\theta-\frac{2\pi}{3}\right) & \cos\left(\theta+\frac{2\pi}{3}\right) \\
								\sin\left(\theta\right) & \sin\left(\theta-\frac{2\pi}{3}\right) & \sin\left(\theta+\frac{2\pi}{3}\right) \\
								\frac{1}{2} &\frac{1}{2} &\frac{1}{2}\end{bmatrix}
			\end{equation}
			\] </div>
			<p>with $\theta =\omega t+\theta+0$ gives </p>
			<div class="equation boxed">\[
				\begin{align*}
					v_{q} &amp;=   \hat{V} \cos \left[ \left( \omega_e-\omega \right)t + \left(\theta_v-\theta_0\right) \right] \\
					v_{d} &amp;= - \hat{V} \sin \left[ \left( \omega_e-\omega \right)t + \left(\theta_v-\theta_0\right) \right] \\
					i_{q} &amp;=   \hat{I} \cos \left[ \left( \omega_e-\omega \right)t + \left(\theta_i-\theta_0\right) \right] \\
					i_{d} &amp;= - \hat{I} \sin \left[ \left( \omega_e-\omega \right)t + \left(\theta_i-\theta_0\right) \right]
				\end{align*}
			\] </div>
			<h3>Stationary Reference Frame</h3>
			<p>The stationary reference frame transformation as we know it was invented by 
			<a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=10958792">Edith Clark</a> and is commonly called the "Clarke Transform". For a counter
			clockwise rotating field with it transforms $abc$ variables onto $\alpha\beta$ axes with $\alpha$ aligned with the a-axis, and the variable inthe  $\beta$ leading $\alpha$ by
			90 degrees.</p>
			<figure>
				<img src="./img/frame_clarke.png" alt="Illustration of Clarke Transform" />
				<figcaption>Fig. 2. Clarke Transform</figcaption>
			</figure>
			<p>The original Clarke transformation matrix may be written as</p>
			<div class="equation">
				\[ 
				K_{Clarke} =\frac{2}{3}\begin{bmatrix} 1 & -1/2 & -1/2 \\ 0 & \frac{\sqrt{3}}{2} & -\frac{\sqrt{3}}{2} \\ \frac{1}{2} & \frac{1}{2}& \frac{1}{2} \end{bmatrix}
				\]
			</div>
			<p>This matrix does not fit into the generalized $K$ given above. Instead, we will used a modified form of the Clarke approach, using $\alpha$ and $-\beta$, which corresponds to 
				$\theta=0$ in the arbitrary transformation matrix.</p>
			<figure>
				<img src="./img/frame_0.png" alt="Illustration of Stationary ref Frame" />
				<figcaption>Fig. 3. Stationary Reference Frame</figcaption>
			</figure>
			<p>This stationary transformation matrix may be written as</p>
			<div class="equation">
				\[ 
				K_{0} =\frac{2}{3}\begin{bmatrix} 1 & -1/2 & -1/2 \\ 0 & -\frac{\sqrt{3}}{2} & \frac{\sqrt{3}}{2} \\ \frac{1}{2} & \frac{1}{2}& \frac{1}{2} \end{bmatrix}
				\]
			</div>
			<p>If we have balanced three-phase variables in steady state, the stationary $qd0$ variables are AC quantities.</p>
			<div class="equation boxed">\[
				\begin{align*}
					v_{q}^0 &amp;=   \hat{V} \cos \left[ \omega_e t + \theta_v \right] \\
					v_{d}^0 &amp;= - \hat{V} \sin \left[ \omega_e t + \theta_v \right] \\
					i_{q}^0 &amp;=   \hat{I} \cos \left[ \omega_e t + \theta_i \right] \\
					i_{d}^0 &amp;= - \hat{I} \sin \left[ \omega_e t + \theta_i \right]
				\end{align*}
			\] </div>
			<h4>Instantaneous Variables in Stationary Ref. Frame</h4>
			<p>If we are trying to control a variable speed motor drive, we typically have to measure the motor currents to be able to apply closed loop control to obtain the desired
				performance. With no common mode current</p>
			<div class="equation">\[
				\begin{align*}
					&amp;i_{a} +i_b+i_c=0 \\
					&amp;ic=-(i_a+i_b)
				\end{align*}
			\] </div>
			<p>Therefore we can calcuate instantaneous stationary reference frame variables without the need to measure 3 currents and apply a matrix transformation:</p>
			<div class="equation">\[
				\begin{align*}
					i_q^0&amp;=\frac{2}{3}i_{a} -\frac{1}{3}i_b -\frac{1}{3}i_c \\
					i_q^0&amp;=i_{a} \\
					i_d^0&amp;= -\frac{1}{\sqrt{3}}i_b +\frac{1}{\sqrt{3}}i_c \\
					i_q^0&amp;=-\frac{1}{\sqrt{3}}\left(i_a+2i_b\right)					 
					&amp;ic=-(i_a+i_b)
				\end{align*}
			\] </div>
			<h3>Synchronous Reference Frame</h3>
			<p>The synchronous reference frame is useful in control applications as setting $\omega =\omega_e$ it removes time variation from the $qd$ variables in steady state. 
				The $qd$ variables become DC values that may vary as a control system demands a change in operating conditions, but are constant at steady state.  This approach is called a 
				"Park Transform", after its inventor. Robert H Park, who published the idea in a paper 
				<a href="https://ieeexplore.ieee.org/document/5055275">Two-reaction theory of synchronous machines generalized method of analysis-part I</a> in 1929. </p>
			<figure>
				<img src="./img/frame_synchronous.png" alt="Illustration of abc-synchronous reference frame" />
				<figcaption>Fig. 4. Synchronous Reference Frame</figcaption>
			</figure>
			<p>In steady state, the above general equations for $qd$ become</p>
			<div class="equation">\[
				\begin{align*}
					v_{q}^e &amp;=   \hat{V} \cos \left(\theta_v-\theta_0\right) \\
					v_{d}^e &amp;= - \hat{V} \sin \left(\theta_v-\theta_0\right) \\
					i_{q}^e &amp;=   \hat{I} \cos \left(\theta_i-\theta_0\right) \\
					i_{d}^e &amp;= - \hat{I} \sin \left(\theta_i-\theta_0\right) 
				\end{align*}
			\] </div>
			<p>Whilst we can apply the $abc$ $\rightarrow$ $qd$ transformation directly, this requires knowledge of all three three-phase variables. In implmentation in a variable speed
				drive it is simpler to first find the stationary reference frame variables, then apply a rotation transformation to obtain the $qd$ values. In general terminology,
				the "Park Transform" refers to the process of converting a set of stationary "Clarke" variables to rotating $qd0$. </p>
				<figure>
				<img src="./img/frame_park.png" alt="Stationary and Rotating two-axis systems" />
				<figcaption>Fig. 5. Park Transformation</figcaption>
			</figure>			
			<p>Using the modified $\alpha:(-\beta)$ stationary reference frame we can use the following transformation, with $\theta_0$ as the value of $\theta$ at $t=0$. to find $qd$ variables</p>
			<div class="equation">
				\[ 
				K =\frac{2}{3}\begin{bmatrix} \cos\theta_0 &amp; -sin\theta_0 \\ sin\theta_0 &amp; \cos\theta_0\end{bmatrix}
				\]
			</div>		
		</div>
	</div>
</article>	
<summary>
	<div class="container-lg bg-white">
		<h3>Summary</h3>
		<p>The arbitrary reference frame transformation matrix can be implemented with different approaches to define $\theta$. This results in different characteristics of the $qd$ variables. </p>
	</div>
</summary>
	

</main>
	

<footer>
	<div class="container-lg text-center bg-white small p-3">
		<div class="row">
			<div class="col-sm text-secondary" >&copy; Andy Knight 2026</div>
			<div class="col-sm-1">
				<a class="text-decoration-none" href="https://www.linkedin.com/in/andymikeknight/">
					<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-linkedin text-secondary" viewBox="0 0 20 20 ">
						<path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/>
					  </svg>
				</a>
			</div>
			<div class="col-sm-1">
					<script type="text/JavaScript">
						<!-- Begin
							user="andy.knight";
							site="ucalgary.ca";
							full='<a class="link-secondary text-decoration-none" href="mailto:'+user+'@'+site+'">Email</a>'
							document.write(full);      
							// End -->
						</script>
			</div>
			<div class="col-sm"><a class="link-secondary text-decoration-none" href="http://schulich.ucalgary.ca/">Schulich School of Engineering </a></div>
			<div class="col-sm"><a class="link-secondary text-decoration-none"href="http://www.ucalgary.ca/">University of Calgary</a></div>
		</div>
	</div>
</footer>
          

</body>
</html>